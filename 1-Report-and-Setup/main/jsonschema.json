{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "SqlTargets",
  "type": "array",
  "items": {
    "type": "object",
    "required": ["Server"],
    "properties": {
      "Server": {
        "type": "string",
        "description": "Host or '.' for local machine"
      },
      "Instance": {
        "type": ["string", "null"],
        "description": "Named instance (null/empty for default)"
      },
      "Port": {
        "type": ["integer", "null"],
        "minimum": 1,
        "maximum": 65535,
        "description": "Explicit TCP port. If null, driver picks default/Browser"
      },
      "Auth": {
        "type": "string",
        "enum": ["Integrated", "Sql"],
        "default": "Integrated",
        "description": "Authentication scheme"
      },
      "SqlUser": {
        "type": ["string", "null"],
        "description": "Required for Auth='Sql' unless prompted"
      },
      "SecretPath": {
        "type": ["string", "null"],
        "description": "Path to Export-Clixml PSCredential"
      },
      "Encrypt": {
        "type": "string",
        "enum": ["Mandatory", "Optional", "Strict"],
        "default": "Optional",
        "description": "Collector-facing encryption preference"
      },
      "TrustServerCertificate": {
        "type": "boolean",
        "default": true,
        "description": "Trusts server certificate if TLS used"
      },
      "ConnectTimeout": {
        "type": "integer",
        "default": 15,
        "minimum": 1,
        "description": "Seconds"
      },
      "ApplicationName": {
        "type": "string",
        "default": "SqlInventory",
        "description": "Client app name in connection string"
      }
    },
    "additionalProperties": false
  }
}